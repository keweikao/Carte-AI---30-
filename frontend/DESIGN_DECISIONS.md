# OderWhat 設計決策文檔

> 記錄重要的設計決策、權衡考量及其背後的原因

**建立日期**: 2025-01-26
**維護者**: Design & Frontend Team

---

## 📌 如何閱讀本文檔

每個決策包含：
- **決策**: 我們選擇了什麼
- **情境**: 當時面臨的問題或需求
- **備選方案**: 考慮過但未採用的其他選項
- **權衡**: 選擇的優缺點分析
- **結果**: 實際效果與後續調整

---

## 🎨 視覺設計決策

### DD-001: 選擇「美食雜誌編輯風格」而非科技感設計

**決策**: 採用溫暖的食物色系（奶油色、焦糖色）+ 雜誌式排版，而非常見的藍紫漸層科技風格

**情境**:
- 大多數 AI 產品使用紫色漸層 + 科技感設計
- 點餐場景需要喚起「食慾」而非「科技感」
- 目標用戶是美食愛好者，不是科技早期採用者

**備選方案**:
1. **科技感藍紫漸層** (常見於 AI 產品)
   - 優點: 符合 AI 產品慣例，專業感強
   - 缺點: 缺乏溫度，不喚起食慾，與競品同質化

2. **極簡黑白風格** (類似 Apple)
   - 優點: 高級感，易於實作
   - 缺點: 過於冷靜，不符合美食場景的情感需求

3. **活潑插畫風格** (類似 Foodpanda)
   - 優點: 親和力強，視覺吸引力高
   - 缺點: 可能顯得不夠專業，AI 推薦的權威感降低

**權衡**:
- ✅ 差異化明顯，避免「AI slop」感
- ✅ 溫暖色系增加信任感與食慾
- ✅ 雜誌風格提升內容品質感
- ⚠️ 實作成本較高（需要更多設計細節）
- ⚠️ 可能被誤認為「非科技產品」

**結果**:
- 預期用戶會感受到「編輯精選」而非「機器生成」
- 與餐飲類競品形成視覺差異

**未來調整**:
- 若發現用戶不信任 AI 推薦，可加入「AI 驗證標章」
- 考慮 A/B 測試不同風格的轉換率

---

### DD-002: 使用 Cormorant Garamond 作為標題字體

**決策**: 選擇襯線體 Cormorant Garamond，而非無襯線體

**情境**:
- 需要傳達「精緻」「品味」「編輯感」
- 多數 SaaS 產品使用 Inter、Roboto 等無襯線體
- 繁體中文搭配需要考慮

**備選方案**:
1. **Inter / Roboto** (科技產品標配)
   - 優點: 清晰易讀，現代感強
   - 缺點: 過於常見，缺乏個性

2. **Playfair Display** (經典襯線體)
   - 優點: 優雅，雜誌感強
   - 缺點: 過於正式，可能不夠親和

3. **Space Grotesk** (幾何無襯線體)
   - 優點: 獨特，現代
   - 缺點: 已被過度使用（AI 生成網站常用）

**權衡**:
- ✅ Cormorant 優雅但不過於正式
- ✅ 與 Noto Sans TC 搭配良好
- ✅ Google Fonts 免費且載入快速
- ⚠️ 小字號下可讀性略降（因此只用於標題）

**結果**:
- 成功傳達「精緻美食雜誌」的調性
- 與內文的 Noto Sans TC 形成良好對比

---

### DD-003: 手寫字體註記風格

**決策**: 推薦理由使用 Caveat 手寫字體，並加上 -2deg 傾斜

**情境**:
- 推薦理由需要「人性化」，避免冰冷的 AI 感
- 需要視覺上與其他內容區隔

**備選方案**:
1. **普通字體 + 引號** (常規做法)
   - 優點: 簡單實作
   - 缺點: 缺乏特色，無法傳達「編輯筆記」感

2. **Comic Sans / 童趣字體**
   - 優點: 親和力強
   - 缺點: 不專業，可能降低可信度

**權衡**:
- ✅ 模擬「美食編輯親筆註記」的視覺隱喻
- ✅ 增加溫度感，降低 AI 冰冷感
- ✅ 視覺上獨特且易辨識
- ⚠️ 可讀性略降（因此字號放大至 xl）

**結果**:
- 成為整個設計的「簽名元素」
- 用戶回饋預期會提到「像朋友推薦」

---

## 🎬 互動設計決策

### DD-004: 大卡片 + 翻轉動畫（而非列表）

**決策**: 推薦頁面使用單一大卡片，換菜時有翻轉動畫，而非顯示多個菜色的列表

**情境**:
- 手機螢幕空間有限
- 需要降低決策負擔（Decision Fatigue）
- 需要明確的「當前焦點」

**備選方案**:
1. **垂直列表** (常見於電商)
   - 優點: 可一次看到所有選項
   - 缺點: 資訊過載，難以專注

2. **橫向滑動卡片** (類似 Tinder)
   - 優點: 直覺的手勢操作
   - 缺點: 可能誤觸，且換菜邏輯與「喜歡/不喜歡」不同

3. **Accordion 折疊列表**
   - 優點: 節省空間
   - 缺點: 展開/收起增加操作步驟

**權衡**:
- ✅ 單一焦點降低認知負擔
- ✅ 動畫提供明確的狀態變化回饋
- ✅ 符合「逐一決策」的心智模型
- ⚠️ 無法一次看到所有推薦（但這是功能，不是缺陷）
- ⚠️ 動畫增加實作複雜度

**結果**:
- 預期決策速度更快（減少比較時間）
- 動畫增加愉悅感

**數據驗證**:
- 測試指標: 從進入推薦頁到完成所有決策的時間
- 目標: < 3 分鐘

---

### DD-005: 價格即時顯示總價（而非已選 vs 未選對比）

**決策**: 總價顯示「當前所有菜品的總和」，而非「已選 vs 系統建議」的對比

**情境** (來自 v3 規格調整):
- 原 v2 設計顯示「系統建議總價」vs「當前已選總價」
- 用戶回饋: 只想知道「我要花多少錢」，不需要對比

**備選方案**:
1. **雙重顯示** (系統建議 vs 當前選擇)
   - 優點: 展示 AI 推薦的價值
   - 缺點: 資訊過載，使用者困惑

2. **僅顯示已選總價**
   - 優點: 簡潔
   - 缺點: 無法預估最終花費（未選的菜品還在列表中）

**權衡**:
- ✅ 符合使用者心智模型（「我的菜單要花多少錢」）
- ✅ 即時回饋（換菜立即看到價格變化）
- ✅ 降低認知負擔（只有一個數字要關注）
- ⚠️ 無法展示「換菜後省錢/花更多」的對比

**結果**:
- 更直覺的價格理解
- 換菜時的價格差異動畫提供足夠的回饋

---

### DD-006: 候選池混合策略（前端備選 + API 補充）

**決策**: 初始載入時提供 2-3 道備選，用完後動態呼叫 API 取得更多

**情境**:
- 需要平衡首次載入速度與換菜體驗
- 大多數用戶不會換超過 2-3 次
- 少數用戶可能連續換 5+ 次

**備選方案**:
1. **全部前端預載** (一次給 10 道候選)
   - 優點: 換菜體驗最流暢
   - 缺點: 首次載入慢，浪費頻寬

2. **完全動態** (每次換菜都呼叫 API)
   - 優點: 首次載入快
   - 缺點: 每次換菜都有延遲，體驗差

**權衡**:
- ✅ 平衡載入速度與換菜體驗
- ✅ 符合 80/20 原則（大多數人換 2-3 次）
- ✅ 提供「無限候選」的感受（實際上是動態載入）
- ⚠️ 需要實作快取邏輯
- ⚠️ 邊界情況處理（API 失敗、候選用完）

**結果**:
- 首次載入保持快速（< 2s）
- 少數重度換菜用戶仍有流暢體驗

**技術實作**:
```typescript
// 候選池管理策略
const INITIAL_ALTERNATIVES = 2;  // 初始備選數
const FETCH_THRESHOLD = 1;        // 剩餘 1 道時補充
const BATCH_SIZE = 3;             // 每次補充 3 道
```

---

## 🎯 UX 流程決策

### DD-007: 步驟式輸入（4 步驟）而非單頁表單

**決策**: 將輸入拆分為 4 個步驟，而非單一長表單

**情境**:
- 手機螢幕無法容納所有輸入欄位
- 使用者可能在不熟悉的場景下填寫（餐廳外、時間緊迫）

**備選方案**:
1. **單頁長表單**
   - 優點: 可一次看到所有欄位
   - 缺點: 手機上滾動距離長，難以專注

2. **動態表單** (根據選擇顯示欄位)
   - 優點: 智能，減少不必要的輸入
   - 缺點: 難以預期總共要填多少資訊

**權衡**:
- ✅ 降低認知負擔（一次只關注一件事）
- ✅ 進度可見（4 個步驟清晰）
- ✅ 易於實作驗證（每步驟獨立驗證）
- ⚠️ 增加點擊次數（4 次「下一步」）
- ⚠️ 無法回頭修改前一步驟（需加入「返回」功能）

**結果**:
- 完成率預期提升（減少中途放棄）
- 每個步驟的平均完成時間 < 30 秒

---

### DD-008: 強制決策（所有菜品都需確認或換掉）

**決策**: 使用者必須對每道菜做決定，才能產出菜單

**情境**:
- 確保菜單完整性
- 避免「預設選擇」的隱性偏見

**備選方案**:
1. **允許跳過** (未決定的菜品自動採用 AI 推薦)
   - 優點: 減少操作步驟
   - 缺點: 使用者可能不知道自己選了什麼

2. **可選擇菜品數量** (6 道中選 4 道)
   - 優點: 彈性高
   - 缺點: 增加決策複雜度

**權衡**:
- ✅ 確保使用者完全控制菜單
- ✅ 避免「不知道自己選了什麼」的困惑
- ✅ 增加參與感（每道菜都是我決定的）
- ⚠️ 可能被視為「強迫」操作
- ⚠️ 增加完成時間

**結果**:
- 菜單頁面的滿意度預期更高（因為每道菜都是主動選擇）
- 可能增加 10-20% 的完成時間（可接受範圍）

**緩解措施**:
- 提供「快速確認」按鈕（一鍵確認所有 pending 菜品）
- 進度條明確顯示「還剩幾道」

---

## 🔧 技術決策

### DD-009: 使用 Framer Motion 而非 CSS 動畫

**決策**: 所有複雜動畫使用 Framer Motion，簡單過渡使用 CSS

**情境**:
- 需要複雜的進場/退場動畫
- 需要手勢操作支援（未來可能加入）
- 需要動畫編排（stagger、sequence）

**備選方案**:
1. **純 CSS 動畫**
   - 優點: 效能最佳，無需額外依賴
   - 缺點: 複雜動畫難以實作，無法動態控制

2. **React Spring**
   - 優點: 物理動畫效果好
   - 缺點: API 複雜，學習曲線陡峭

3. **GSAP**
   - 優點: 功能最強大
   - 缺點: 檔案大小較大，付費功能多

**權衡**:
- ✅ Framer Motion 與 React 整合良好
- ✅ API 直覺，開發速度快
- ✅ AnimatePresence 完美處理進場/退場
- ⚠️ Bundle size 增加約 50KB (gzip)
- ⚠️ 可能過度依賴（簡單動畫也用 FM）

**結果**:
- 開發速度快，動畫效果佳
- 需要注意效能優化（避免過多同時動畫）

**最佳實踐**:
```tsx
// ✅ 複雜動畫用 Framer Motion
<motion.div animate={{ ... }} />

// ✅ 簡單過渡用 CSS
<div className="transition-all duration-300" />
```

---

### DD-010: 客戶端狀態管理使用 React Context（而非 Redux）

**決策**: 使用 React Context + useReducer 管理推薦頁面狀態

**情境**:
- 狀態主要在單一頁面內共享（推薦頁面）
- 不需要跨頁面的全局狀態
- 團隊熟悉 React Hooks

**備選方案**:
1. **Redux Toolkit**
   - 優點: 強大的 DevTools，時間旅行除錯
   - 缺點: 對於簡單場景過於複雜

2. **Zustand**
   - 優點: 輕量，API 簡潔
   - 缺點: 額外依賴，團隊不熟悉

3. **Jotai / Recoil**
   - 優點: 原子化狀態管理
   - 缺點: 對於線性流程過於複雜

**權衡**:
- ✅ Context 足夠應付當前需求
- ✅ 無額外依賴
- ✅ 團隊熟悉度高
- ⚠️ 效能可能受影響（但可用 useMemo 優化）
- ⚠️ 未來若狀態複雜化需重構

**結果**:
- 快速開發，滿足當前需求
- 未來若需要可平滑遷移至 Zustand

---

## 📊 設計驗證計畫

### 如何驗證這些決策是否正確？

#### 定量指標

| 指標 | 目標值 | 驗證方法 |
|------|--------|----------|
| 首次載入時間 | < 2s | Lighthouse |
| 完成推薦流程時間 | < 3 min | Analytics |
| 換菜次數（平均） | 2-3 次 | 後端日誌 |
| 轉換率（輸入→完成） | > 70% | 漏斗分析 |
| 滿意度評分 | > 4.0/5 | 回饋表單 |

#### 定性回饋

- **使用者訪談** (5-10 位目標用戶)
  - 問題: 「這個設計讓你想到什麼？」
  - 預期: 「像在看美食雜誌」「很有溫度」

- **A/B 測試** (未來考慮)
  - 測試項目: 手寫字體 vs 普通字體
  - 測試項目: 大卡片 vs 列表

---

## 🔄 決策回顧流程

每月回顧：
1. 檢視定量指標是否達標
2. 收集使用者回饋
3. 評估是否需要調整設計決策
4. 更新本文檔

---

## 📝 決策模板

新增決策時使用此模板：

```markdown
### DD-XXX: [決策名稱]

**決策**: [我們選擇了什麼]

**情境**: [當時面臨的問題]

**備選方案**:
1. **方案 A**
   - 優點:
   - 缺點:

2. **方案 B**
   - 優點:
   - 缺點:

**權衡**:
- ✅ 優點
- ⚠️ 缺點/風險

**結果**: [預期效果]

**驗證**: [如何驗證這個決策是否正確]
```

---

**最後更新**: 2025-01-26
**下次回顧**: 2025-02-26
