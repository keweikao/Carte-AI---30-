# OderWhat 前端規劃總結

> **一站式前端開發指南** - 從設計理念到實作細節的完整規劃

**建立日期**: 2025-01-26
**專案狀態**: ✅ 設計規劃完成，準備進入開發階段

---

## 📚 文檔導航

本次規劃產出了完整的前端設計系統，包含以下文檔：

### 核心文檔

| 文檔名稱 | 用途 | 目標讀者 |
|----------|------|----------|
| **DESIGN_SYSTEM.md** | 完整設計系統規範 | 設計師、前端工程師 |
| **COMPONENT_EXAMPLES.md** | 組件實作範例與代碼 | 前端工程師 |
| **IMPLEMENTATION_ROADMAP.md** | 分階段實作路徑圖 | 專案經理、前端工程師 |
| **DESIGN_DECISIONS.md** | 設計決策文檔與權衡 | 所有團隊成員 |
| **FRONTEND_PLANNING_SUMMARY.md** (本文檔) | 總結與快速入門 | 新加入成員、利害關係人 |

---

## 🎨 設計理念概述

### 核心概念：美食雜誌編輯風格

我們選擇了「Editorial Elegance meets Playful Utility」的設計方向，將 AI 點餐體驗包裝為翻閱精緻美食雜誌的感受。

#### 為什麼不是科技感藍紫漸層？

1. **差異化**: 避免與其他 AI 產品同質化
2. **情感連結**: 溫暖的食物色系喚起食慾與信任
3. **心理定位**: 「編輯精選」> 「機器生成」

### 設計語言三大支柱

```
┌──────────────────────────────────────────┐
│  1. 視覺層次清晰                         │
│     • 非對稱排版                         │
│     • 慷慨的留白                         │
│     • 字體對比                           │
│                                          │
│  2. 溫暖的食慾色系                       │
│     • 奶油色 #FFF8F0                     │
│     • 焦糖色 #D4A574                     │
│     • 陶土紅 #C85A54                     │
│                                          │
│  3. 流暢的互動回饋                       │
│     • 卡片翻轉動畫                       │
│     • 價格變化指示器                     │
│     • 慶祝動畫                           │
└──────────────────────────────────────────┘
```

---

## 🏗️ 技術架構

### 技術棧

```yaml
框架: Next.js 14 (App Router)
語言: TypeScript
樣式: Tailwind CSS + CSS Variables
動畫: Framer Motion
組件庫: Radix UI (無頭組件)
字體: Cormorant Garamond + Noto Sans TC + Caveat
圖示: Lucide React
狀態管理: React Context + useReducer
```

### 專案結構

```
frontend/
├── src/
│   ├── app/                    # Next.js 頁面
│   │   ├── page.tsx            # 首頁
│   │   ├── input/              # 輸入頁面
│   │   ├── recommendation/     # 推薦頁面
│   │   └── menu/               # 菜單頁面
│   ├── components/
│   │   ├── ui/                 # 基礎 UI 組件
│   │   ├── dish-card.tsx       # 菜色卡片
│   │   ├── menu-summary.tsx    # 菜單摘要
│   │   └── ...
│   ├── lib/                    # 工具函數
│   ├── types/                  # TypeScript 類型定義
│   └── styles/
│       └── globals.css         # 全局樣式
├── public/                     # 靜態資源
├── DESIGN_SYSTEM.md            # 設計系統文檔
├── COMPONENT_EXAMPLES.md       # 組件範例
├── IMPLEMENTATION_ROADMAP.md   # 實作路徑圖
└── DESIGN_DECISIONS.md         # 設計決策
```

---

## 🎯 核心頁面規劃

### 1️⃣ 首頁 (Landing Page)

**設計目標**: 3 秒內傳達價值主張

**關鍵元素**:
- Hero 區域（大標題 + 視覺插圖）
- 價值主張：「陌生餐廳也能點得像內行」
- 主要 CTA：「開始推薦」
- 特色展示：分析評論、個人化推薦、快速產出

**視覺特色**:
- 使用 Cormorant Garamond 大標題（text-5xl）
- 溫暖的漸層背景（cream → caramel）
- 微妙的載入動畫（stagger effect）

---

### 2️⃣ 輸入頁面 (Input Page)

**設計目標**: 降低輸入門檻，引導式填寫

**流程設計** (4 步驟):
```
步驟 1: 選擇餐廳 (Google Places)
   ↓
步驟 2: 人數 + 預算
   ↓
步驟 3: 用餐模式 (分食/獨享)
   ↓
步驟 4: 偏好 + 禁忌
   ↓
提交並導航至推薦頁面
```

**關鍵組件**:
- `<StepIndicator />` - 進度指示器
- `<RestaurantSearch />` - Google Places 整合
- `<BudgetSlider />` - 預算滑桿
- `<TagInput />` - 偏好標籤輸入

---

### 3️⃣ 推薦頁面 (Recommendation Page) ⭐ 核心頁面

**設計目標**: 清晰展示推薦，降低決策負擔

**視覺層次** (從上到下):

```
┌─────────────────────────────────────┐
│  MenuSummary 卡片                   │
│  • 本次菜單組成 (類別統計)          │
│  • 總價 + 人均                      │
│  • 進度 (已決定 X/Y 道)             │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  DishCard 1 - 冷菜                  │
│  ┌─────────────────────────────┐   │
│  │  [菜色照片佔位圖]            │   │
│  │  🥒 涼拌黃瓜                 │   │
│  │  NT$ 80                      │   │
│  │  ✍️ "清爽開胃，45則評論..."   │   │
│  │  [✅ 我要點這道] [🔄 換一道]  │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘

[已選] 小籠包 · NT$ 280 ✓

... (其他菜色卡片)

[產出點餐菜單] ← 全部決定後啟用
```

**關鍵互動**:

1. **確認菜品**:
   - 點擊「✅ 我要點這道」
   - 卡片變半透明 + 顯示 ✓ 標記
   - 進度條更新
   - 自動滾動至下一道

2. **換菜**:
   - 點擊「🔄 換一道」
   - 舊卡片翻出動畫（向左滑出 + 旋轉）
   - 新卡片滑入動畫（從右滑入）
   - 價格差異浮動顯示（+$40 或 -$40）
   - 總價即時更新

3. **候選池邏輯**:
   - 初始載入: 每個類別 1 道顯示 + 2 道備選
   - 換菜: 從備選池取出下一道
   - 備選用完: 呼叫 API 動態取得 3 道新候選
   - 完全用完: 顯示「該類別暫無更多推薦」

**技術亮點**:
- 使用 Framer Motion 的 `<AnimatePresence />` 處理進場/退場
- 價格變化觸發 confetti 慶祝動畫
- 進度達 100% 時觸發完成動畫

---

### 4️⃣ 菜單頁面 (Menu Page)

**設計目標**: 成果展示，可分享，可列印

**功能規劃**:
- 最終菜單清單（含 emoji 圖示）
- 總價 + 人均計算
- 操作按鈕：
  - 返回修改
  - 分享菜單（生成圖片）
  - 對推薦評分（滿意度回饋）

**分享功能**:
- 使用 Canvas API 生成美觀的分享卡片
- 包含: 餐廳名稱、菜單、總價、Carte.tw logo
- 一鍵複製到剪貼簿或下載圖片

---

## 🎬 動畫策略

### 動畫的三個層次

1. **功能性動畫** (Functional)
   - 頁面轉場
   - 狀態變化
   - 目的: 提供視覺連續性

2. **回饋性動畫** (Feedback)
   - 按鈕點擊波紋
   - 價格變化指示器
   - 目的: 確認操作已接收

3. **情感性動畫** (Emotional)
   - 完成時的 confetti
   - 卡片翻轉的彈性效果
   - 目的: 增加愉悅感

### 關鍵動畫實作

#### 卡片換菜動畫

```tsx
<AnimatePresence mode="wait">
  <motion.div
    key={currentDish.name}
    initial={{ x: '100vw', rotate: 15, opacity: 0 }}
    animate={{ x: 0, rotate: 0, opacity: 1 }}
    exit={{ x: '-100vw', rotate: -15, opacity: 0 }}
    transition={{ type: 'spring', stiffness: 100, damping: 20 }}
  >
    <DishCard dish={currentDish} />
  </motion.div>
</AnimatePresence>
```

#### 價格變化指示器

```tsx
<motion.div
  initial={{ y: 20, opacity: 0, scale: 0.8 }}
  animate={{ y: 0, opacity: 1, scale: 1 }}
  exit={{ y: -20, opacity: 0 }}
>
  {priceDiff > 0 ? '+' : ''}{priceDiff}
</motion.div>
```

---

## 📋 實作優先級

### Phase 1: 基礎設施 (Week 1)

**必做 (P0)**:
- ✅ CSS 變數與全局樣式
- ✅ 字體載入
- ✅ 基礎 UI 組件 (Button, Card, Input)
- ✅ TypeScript 類型定義

**可延後 (P1)**:
- Toast 通知系統
- Dialog 對話框
- Storybook 文檔

---

### Phase 2: 核心頁面 (Week 2)

**必做 (P0)**:
- ✅ 首頁（簡化版，先完成 CTA 流程）
- ✅ 輸入頁面（4 步驟）
- ✅ 推薦頁面（完整功能）
- ✅ 菜單頁面（基礎版）

**可延後 (P1)**:
- 首頁的進階動畫
- 分享功能（Canvas 生成）
- 列印樣式優化

---

### Phase 3: 優化 (Week 3)

**必做 (P0)**:
- ✅ 錯誤處理（API 失敗、網路斷線）
- ✅ 候選池用完提示
- ✅ 響應式測試與修正

**建議做 (P1)**:
- 動畫精緻化
- 效能優化（圖片懶加載、路由預載）
- 無障礙改進

---

### Phase 4: 測試與上線 (Week 4)

**必做 (P0)**:
- ✅ 跨瀏覽器測試
- ✅ 手機實機測試
- ✅ 效能檢測 (Lighthouse > 90)
- ✅ 部署至 Cloud Run

**建議做 (P1)**:
- E2E 測試（Playwright）
- 錯誤監控（Sentry）
- Analytics 整合

---

## 🚀 快速啟動指南

### 給前端工程師

```bash
# 1. 進入前端目錄
cd frontend/

# 2. 安裝依賴
npm install

# 3. 安裝設計系統依賴
npm install framer-motion canvas-confetti lucide-react
npm install @radix-ui/react-dialog @radix-ui/react-dropdown-menu

# 4. 啟動開發伺服器
npm run dev

# 5. 開啟瀏覽器
open http://localhost:3000
```

### 第一個任務

**建議從這裡開始**:

1. **設定全局樣式** (30 分鐘)
   - 將 `DESIGN_SYSTEM.md` 中的 CSS 變數複製到 `globals.css`
   - 設定 Tailwind 配置
   - 測試字體載入

2. **建立第一個組件** (1 小時)
   - 實作 `Button` 組件
   - 參考 `COMPONENT_EXAMPLES.md`
   - 測試所有變體 (primary, secondary, outline)

3. **完成首頁** (2 小時)
   - Hero 區域
   - CTA 按鈕導航至 `/input`
   - 簡單的動畫效果

### 給設計師

**設計交付物**:
- [ ] Figma 設計檔案（含組件庫）
- [ ] 菜色照片佔位圖（或圖示設計）
- [ ] 品牌色值確認（已在 DESIGN_SYSTEM.md 定義）
- [ ] 動畫規範視頻（展示動畫效果）

**協作流程**:
1. 在 Figma 中標註元件使用的 CSS 變數名稱
2. 動畫效果提供參考視頻或 Lottie 檔案
3. 響應式設計提供 Mobile (375px) + Desktop (1280px) 兩版

---

## 📊 成功指標

### 定量指標

| 指標 | 目標值 | 驗證方法 |
|------|--------|----------|
| **效能** |
| Lighthouse Score | > 90 | Chrome DevTools |
| 首次載入時間 (LCP) | < 2.5s | Web Vitals |
| 互動延遲 (FID) | < 100ms | Web Vitals |
| 版面穩定性 (CLS) | < 0.1 | Web Vitals |
| **使用者體驗** |
| 完成推薦流程時間 | < 3 min | Analytics |
| 轉換率 (輸入→完成) | > 70% | 漏斗分析 |
| 平均換菜次數 | 2-3 次 | 後端日誌 |
| **滿意度** |
| 整體滿意度評分 | > 4.0/5 | 回饋表單 |
| NPS 淨推薦值 | > 30 | 調查問卷 |

### 定性回饋

**使用者訪談目標**:
- 50% 以上用戶提到「溫暖」「有溫度」
- 30% 以上用戶提到「像雜誌」「精緻」
- 無用戶提到「冰冷」「機械感」

---

## 🎯 關鍵設計決策總覽

### 視覺設計

| 決策 | 選擇 | 原因 |
|------|------|------|
| 設計風格 | 美食雜誌編輯風格 | 差異化，喚起食慾 |
| 主色系 | 奶油色 + 焦糖色 | 溫暖，符合美食情境 |
| 標題字體 | Cormorant Garamond | 優雅，雜誌感 |
| 推薦理由字體 | Caveat (手寫) | 人性化，降低 AI 冰冷感 |

### 互動設計

| 決策 | 選擇 | 原因 |
|------|------|------|
| 推薦展示 | 單一大卡片 | 降低認知負擔，專注決策 |
| 換菜動畫 | 翻轉 + 滑動 | 視覺回饋強，增加愉悅感 |
| 價格顯示 | 即時總價 | 直覺，符合心智模型 |
| 決策模式 | 強制決策 | 確保菜單完整性 |

### 技術選型

| 決策 | 選擇 | 原因 |
|------|------|------|
| 動畫庫 | Framer Motion | React 整合佳，API 直覺 |
| 狀態管理 | Context + useReducer | 足夠應付，無需 Redux |
| 候選池策略 | 混合（前端 + API） | 平衡載入速度與體驗 |

完整決策權衡請參考 `DESIGN_DECISIONS.md`

---

## 🔄 持續改進

### 定期回顧

**每週**:
- 檢視開發進度
- 解決技術阻礙
- 調整優先級

**每月**:
- 檢視成功指標
- 收集使用者回饋
- 評估設計決策
- 更新文檔

### 未來可能的改進方向

**短期 (1-3 個月)**:
- 加入更多餐廳類型（西餐、韓式、泰式）
- 優化動畫效果（更流暢的轉場）
- 加入「我的最愛」功能

**中期 (3-6 個月)**:
- 支援暗色模式（「夜間點餐模式」）
- 加入社交分享功能（朋友圈、Instagram）
- 多語言支援（英文版）

**長期 (6-12 個月)**:
- AI 學習用戶偏好（推薦越來越準）
- 整合訂位系統
- 推出「點餐歷史」功能

---

## 📞 團隊協作

### 角色分工

| 角色 | 職責 | 關鍵文檔 |
|------|------|----------|
| **產品經理** | 需求確認、優先級排序 | IMPLEMENTATION_ROADMAP.md |
| **UI/UX 設計師** | 視覺設計、使用者體驗 | DESIGN_SYSTEM.md |
| **前端工程師** | 組件開發、動畫實作 | COMPONENT_EXAMPLES.md |
| **後端工程師** | API 設計、候選池邏輯 | (後端 API 文檔) |
| **QA 測試** | 功能測試、效能測試 | (測試計畫文檔) |

### 溝通頻率

- **每日站會** (15 min): 同步進度、阻礙
- **每週設計評審** (30 min): 檢視實作與設計稿差異
- **雙週迭代檢討** (1 hr): 回顧與改進

---

## ✅ 檢查清單

### 開發啟動前

- [ ] 閱讀完 `DESIGN_SYSTEM.md`
- [ ] 閱讀完 `IMPLEMENTATION_ROADMAP.md`
- [ ] 環境設定完成（Node.js, npm）
- [ ] 後端 API 文檔已就緒
- [ ] 設計稿已交付（Figma）

### Phase 1 完成前

- [ ] CSS 變數定義完成
- [ ] 字體正確載入
- [ ] 基礎 UI 組件通過測試
- [ ] TypeScript 無錯誤

### 上線前

- [ ] 所有核心頁面完成
- [ ] Lighthouse Score > 90
- [ ] 跨瀏覽器測試通過
- [ ] 手機實機測試通過
- [ ] 無障礙測試通過
- [ ] 後端 API 整合無誤

---

## 🎉 總結

這套前端規劃提供了：

✅ **清晰的設計方向** - 美食雜誌編輯風格，差異化明顯
✅ **完整的設計系統** - 從色彩到動畫的所有規範
✅ **可執行的實作路徑** - 分階段、有優先級的開發計畫
✅ **深思熟慮的決策記錄** - 每個選擇都有明確的理由

**下一步**: 開始實作 Phase 1，建立堅實的基礎！

---

## 📬 聯繫方式

遇到問題或需要澄清？

- 設計相關: 聯繫 UI/UX 設計師
- 技術相關: 聯繫前端 Tech Lead
- 產品相關: 聯繫產品經理

**文檔維護**: Frontend Team
**最後更新**: 2025-01-26
**版本**: 1.0.0

---

**祝開發順利！讓我們一起打造一個令人驚艷的 AI 點餐體驗！** 🚀
