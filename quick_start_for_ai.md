# Quick Start for AI: å°ˆæ¡ˆå¿«é€ŸæŒ‡å¼•

> **è©³ç´°è¦ç¯„è«‹åƒé–±**ï¼š[project_foundation.md](./project_foundation.md)

## 0. é–‹ç™¼ç’°å¢ƒè¨­å®š (Development Setup)

### ğŸš€ ä¸€éµå•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

```bash
./start_dev.sh
```

é€™å€‹è…³æœ¬æœƒè‡ªå‹•ï¼š
1. æª¢æŸ¥ä¸¦å»ºç«‹ Python è™›æ“¬ç’°å¢ƒ (`venv/`)
2. å®‰è£æ‰€æœ‰å¿…è¦çš„ä¾è³´å¥—ä»¶
3. åŒæ™‚å•Ÿå‹•å‰ç«¯å’Œå¾Œç«¯æœå‹™å™¨

### åˆ†åˆ¥å•Ÿå‹•æœå‹™

```bash
# åªå•Ÿå‹•å¾Œç«¯ (FastAPI)
./start_dev.sh backend

# åªå•Ÿå‹•å‰ç«¯ (Next.js)
./start_dev.sh frontend

# åŒæ™‚å•Ÿå‹•å…©è€…
./start_dev.sh both
```

### è¨ªå•æ‡‰ç”¨

- **å‰ç«¯**: http://localhost:3000
- **å¾Œç«¯ API**: http://localhost:8000
- **API æ–‡æª”**: http://localhost:8000/docs

### æ‰‹å‹•å•Ÿå‹•ï¼ˆå¦‚éœ€è¦ï¼‰

**å¾Œç«¯**:
```bash
source venv/bin/activate
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**å‰ç«¯**:
```bash
cd frontend
npm run dev
```

### ç’°å¢ƒéœ€æ±‚

- **Python**: 3.11+
- **Node.js**: 22.17.0+
- **ç’°å¢ƒè®Šæ•¸**:
  - å¾Œç«¯: `.env` (å·²é…ç½®)
  - å‰ç«¯: `frontend/.env.local` (å·²é…ç½®)

### è©³ç´°æ–‡æª”

- å®Œæ•´è¨­å®šæŒ‡å—: [DEV_SETUP.md](./DEV_SETUP.md)
- å¿«é€Ÿé–‹å§‹: [QUICK_START.md](./QUICK_START.md)

---

## 1. æ†²æ³• (Constitution)
- **èªè¨€**ï¼šå¼·åˆ¶ä½¿ç”¨ **ç¹é«”ä¸­æ–‡ (Traditional Chinese)**ã€‚
- **æ€ç¶­**ï¼šä½ æ˜¯ä¸€ä½ä¸»å‹•çš„å·¥ç¨‹å¸«ï¼Œè€Œéè¢«å‹•çš„èŠå¤©æ©Ÿå™¨äººã€‚

## 2. é–‹ç™¼æµç¨‹æª¢æŸ¥è¡¨ (Checklist)
åœ¨é–‹å§‹ä»»ä½•åŠŸèƒ½é–‹ç™¼å‰ï¼Œè«‹ç¢ºèªï¼š

- [ ] **Read**: æ˜¯å¦å·²é–±è®€ `project_foundation.md` ç†è§£æ ¸å¿ƒå“²å­¸ï¼Ÿ
- [ ] **Specify**: æ˜¯å¦å·²å»ºç«‹è¦æ ¼æ–‡ä»¶ (`specs/`)ï¼Ÿ(ç¦æ­¢ç›´æ¥å¯« Code)
- [ ] **Plan**: æ˜¯å¦å·²å»ºç«‹å¯¦ä½œè¨ˆç•« (`implementation_plan.md`)ï¼Ÿ
- [ ] **Task**: æ˜¯å¦å·²æ‹†è§£ä»»å‹™ (`task.md`)ï¼Ÿ
- [ ] **Implement**: åŸ·è¡Œæ™‚æ˜¯å¦éµå¾ªè¨ˆç•«ï¼Ÿ

## 3. é«˜æ•ˆå·¥ä½œæµ (MCP Best Practices)
- **å¯« Script å–ä»£å°è©±**ï¼š
    - éœ€è¦åˆ†æå¤šå€‹æª”æ¡ˆï¼Ÿ -> å¯« Python scriptã€‚
    - éœ€è¦æ‰¹æ¬¡ä¿®æ”¹ï¼Ÿ -> å¯« Shell scriptã€‚
    - **ä¸è¦** è®€å–æ‰€æœ‰æª”æ¡ˆåˆ° Context ä¸­è‡ªå·±çœ‹ã€‚
- **ä¿æŒ Context è¼•é‡**ï¼š
    - ç”¨ `grep`/`find` æ‰¾è³‡æ–™ã€‚
    - åªè®€å–å¿…è¦çš„ç¨‹å¼ç¢¼ç‰‡æ®µã€‚

## 4. Token å„ªåŒ–ç³»çµ±ï¼ˆâš ï¸ é‡è¦ï¼‰

### ğŸš¨ æª”æ¡ˆåƒè€ƒè™•ç†è¦å‰‡

æœ¬å°ˆæ¡ˆä½¿ç”¨ Token å„ªåŒ–ç³»çµ±ï¼Œç•¶ä½ çœ‹åˆ°ä»¥ä¸‹æ ¼å¼ï¼š

```python
{
    "file": "temp/cache/data.txt",
    "preview": "å‰ 200 å­—å…ƒ...",
    "saved_tokens": 1000
}
```

**ä½ å¿…é ˆéµå®ˆï¼š**

1. âœ… **è­˜åˆ¥æª”æ¡ˆåƒè€ƒ**ï¼šé€™æ˜¯å„ªåŒ–å¾Œçš„è³‡æ–™ï¼Œä¸æ˜¯éŒ¯èª¤
2. âœ… **è®€å–å®Œæ•´å…§å®¹**ï¼šä½¿ç”¨ Read å·¥å…·æˆ– `cat` å‘½ä»¤è®€å–å®Œæ•´æª”æ¡ˆ
3. âœ… **ä½¿ç”¨å®Œæ•´è³‡æ–™**ï¼šä¸è¦åªä½¿ç”¨ `preview` æ¬„ä½ï¼ˆåƒ… 200 å­—å…ƒï¼‰
4. âŒ **ä¸è¦è¦æ±‚ä½¿ç”¨è€…**ï¼šä¸è¦è¦æ±‚ä½¿ç”¨è€…æä¾›å®Œæ•´å…§å®¹ï¼ˆå·²åœ¨æª”æ¡ˆä¸­ï¼‰

### è™•ç†ç¯„ä¾‹

```python
# æª¢æŸ¥æ˜¯å¦ç‚ºæª”æ¡ˆåƒè€ƒ
if isinstance(data, dict) and 'file' in data:
    # è®€å–å®Œæ•´æª”æ¡ˆ
    with open(data['file']) as f:
        content = f.read()
else:
    # ç›´æ¥ä½¿ç”¨
    content = str(data)

# è™•ç† content...
```

### ç‚ºä»€éº¼é‡è¦ï¼Ÿ

```
æ­£ç¢ºè™•ç†ï¼š
  âœ… ç¯€çœ 90% Token æˆæœ¬
  âœ… ç¯€çœ 100% API æˆæœ¬ï¼ˆå¿«å–å‘½ä¸­æ™‚ï¼‰
  âœ… è³‡æ–™å®Œæ•´ç„¡èª¤

å¿½ç•¥æª”æ¡ˆåƒè€ƒï¼š
  âŒ è³‡æ–™ä¸å®Œæ•´ï¼ˆåªæœ‰ 200 å­—å…ƒé è¦½ï¼‰
  âŒ ç„¡æ³•æ­£ç¢ºå®Œæˆä»»å‹™
  âŒ å¤±å»æ‰€æœ‰å„ªåŒ–æ•ˆç›Š
```

### å„ªåŒ–ç³»çµ±æ¶æ§‹

æœ¬å°ˆæ¡ˆä½¿ç”¨å…©å±¤å„ªåŒ–ï¼š

- **ç­–ç•¥ 1ï¼ˆAPI å¿«å–ï¼‰**: `api_cache_minimal.py`
  - é¿å…é‡è¤‡ API å‘¼å«
  - å¿«å–æœ‰æ•ˆæœŸï¼š1 å°æ™‚ï¼ˆå¯èª¿æ•´ï¼‰
  - ç¯€çœ 100% API æˆæœ¬ï¼ˆå¿«å–å‘½ä¸­æ™‚ï¼‰

- **ç­–ç•¥ 2ï¼ˆToken å„ªåŒ–ï¼‰**: `token_optimizer_minimal.py`
  - å¤§å‹è³‡æ–™ï¼ˆ>1000 å­—å…ƒï¼‰å„²å­˜ç‚ºæª”æ¡ˆ
  - è¿”å›æª”æ¡ˆåƒè€ƒè€Œéå®Œæ•´å…§å®¹
  - ç¯€çœ 90%+ Token

**ä¹˜æ•¸æ•ˆæ‡‰**ï¼š
- ç¬¬ä¸€æ¬¡æŸ¥è©¢ï¼šAPI å‘¼å« â†’ å­˜å¿«å– â†’ å„ªåŒ–ï¼ˆç¯€çœ 90% tokenï¼‰
- ç¬¬äºŒæ¬¡æŸ¥è©¢ï¼šä½¿ç”¨å¿«å– â†’ å„ªåŒ–ï¼ˆç¯€çœ 100% API + 90% tokenï¼‰

### æ•´åˆä½ç½®

- **DiningAgent**: æ‰€æœ‰è³‡æ–™è™•ç†è‡ªå‹•å•Ÿç”¨å„ªåŒ–
- **æœå°‹çµæœ**: `_search_restaurant_info()` è¿”å›çš„çµæœå¯èƒ½æ˜¯æª”æ¡ˆåƒè€ƒ
- **çµ±è¨ˆè³‡æ–™**: çµæœåŒ…å« `token_optimization_stats` å’Œ `api_cache_stats`

### å¿«é€Ÿæª¢æŸ¥

```python
# åŸ·è¡Œ DiningAgent
result = agent.run()

# æª¢æŸ¥å„ªåŒ–æ•ˆæœ
print(result['token_optimization_stats'])  # Token ç¯€çœçµ±è¨ˆ
print(result['api_cache_stats'])           # API å¿«å–çµ±è¨ˆ
```

---
*éµå®ˆæ­¤æŒ‡å¼•ï¼Œç¢ºä¿å°ˆæ¡ˆå“è³ªèˆ‡ Token æ•ˆç‡ã€‚*